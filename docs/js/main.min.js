$(function(){if(l=window.innerHeight,$(".front-top").length){if($(".traveline__date").click(function(){$(".traveline__date-wrap").removeClass("_open"),$(this).closest(".traveline__date-wrap").addClass("_open")}),$(".traveline").length){var t=new Date,n=new Date;n.setDate(n.getDate()+1),t.setDate(t.getDate()+7),$(".traveline__date.from").val(`${n.getDate()}.${n.getMonth()+1}.${n.getFullYear()}`),setTimeout(function(){$(".traveline__date.to").val(`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`)},300),new AirDatepicker("#traveline__date-from",{minDate:new Date,autoClose:!0,inline:!0,onSelect:function(e,t,n){var i=new Date(t);i.setDate(i.getDate()+1),o.update("minDate",i);t=o.date;console.log(i.getTime(),o.date.getTime(),i.getTime()>o.date.getTime()),i.getTime()>o.date.getTime()?o.selectDate(i):o.selectDate(t)}});let o="";o=new AirDatepicker("#traveline__date-to",{minDate:n,startDate:t,inline:!0,autoClose:!0}),console.log("sx"),console.log("zzzz");var a,i=$(".traveline__popup");$(".traveline__go").click(function(){var e=new URL($(this).data("link")),t=$(".traveline__date.from").val().split("."),n=$(".traveline__date.to").val().split(".");let i=new Date(t[2],t[1],t[0]),o=new Date(n[2],n[1],n[0]);e.searchParams.append("date",`${t[2]}-${t[1]}-${t[0]}`),e.searchParams.append("nights",Math.ceil(Math.abs(o.getTime()-i.getTime())/864e5)),e.searchParams.append("adults",Number.parseInt($(".traveline__counter-inpt.adults").val()));var a="";$(".traveline__children._open").each(function(){a+=$(this).find("select").val()+";"}),e.searchParams.append("children-age",a),document.location.href=e.href}),$(".traveline__count").click(function(){i.addClass("_show")}),$(".traveline__child-finish").click(function(e){i.removeClass("_show")}),$(document).click(function(e){0===$(".traveline__block._counter").has(e.target).length&&i.removeClass("_show"),$(e.target).hasClass(".traveline__date-wrap")&&$(e.target).closest(".traveline__date-wrap")&&$(".traveline__date-wrap").removeClass("_open")}),$(".traveline__minus").click(function(){var e=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(e.val().replace(/\D+/g,"")),0<=--a&&(a<=9?e.val(`0${a}`):e.val(`${a}`));var t,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),e.hasClass("children")&&(t=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){t<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),t++}))}),$(".traveline__plus").click(function(){var e=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(e.val().replace(/\D+/g,"")),++a<=9?e.val(`0${a}`):e.val(`${a}`);var t,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),e.hasClass("children")&&(t=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){console.log("adas"),t<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),t++}))})}class e{constructor(){this.circle=Object,this.line=Object,this.circleRect=Object,this.centerPosition={x:0,y:0},this.angels={actual:0,target:0},this.init()}init(){this.circle=document.querySelector(".front-top__bg-blur"),this.line=document.querySelector(".front-top__bg-blur-point"),this.onResize(),window.onresize=e=>this.onResize(e),window.onmousemove=e=>this.onMouseMove(e),requestAnimationFrame(()=>this.loop())}onResize(){this.circleRect=this.circle.getBoundingClientRect(),this.centerPosition={x:this.circleRect.x+this.circleRect.width/2,y:this.circleRect.y+this.circleRect.height/2}}onMouseMove(e){e=Math.atan2(e.pageY-this.centerPosition.y,e.pageX-this.centerPosition.x);this.angels.target=e}loop(){this.angels.actual=this.angleLerp(this.angels.actual,this.angels.target,.1),this.line.style.transform=`rotate(${this.angels.actual}rad)`,requestAnimationFrame(()=>this.loop())}angleLerp(e,t,n){var i=2*Math.PI,t=(t-e)%i;return e+(2*t%i-t)*n}}let s=!1;new e,$("body").addClass("_no-scroll"),setTimeout(function(){$("html, body").scrollTop(0),console.log("sadasd")},1e3),$("html, body").scrollTop(0),$(".front-top").attr("state","top"),$(".front-top__down").click(function(){0==s&&(s=!0,$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))}),$("#front-top").swipe({swipe:function(e,t,n,i,o,a){console.log("You swiped "+t),"up"==t?0==s&&(s=!0,"static"==state&&$("#front-top").attr("state","top"),"end"==state&&($("html, body").animate({scrollTop:0}),$("body").addClass("_no-scroll"),$("#front-top").attr("state","static")),setTimeout(function(){s=!1},3e3)):"down"==t&&0==s&&(s=!0,"end"==state&&$("body").removeClass("_no-scroll"),"static"==state&&$("#front-top").attr("state","end"),"top"==state&&$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))}}),$("#front-top").bind("mousewheel",function(e){var t=$("#front-top").attr("state");0<e.originalEvent.wheelDelta/120?0==s&&(s=!0,"static"==t&&$("#front-top").attr("state","top"),"end"==t&&($("html, body").animate({scrollTop:0}),$("body").addClass("_no-scroll"),$("#front-top").attr("state","static")),setTimeout(function(){s=!1},3e3)):0==s&&(s=!0,"end"==t&&$("body").removeClass("_no-scroll"),"static"==t&&$("#front-top").attr("state","end"),"top"==t&&$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))})}if($(".front-services-slider-content").length){let e=0;$(".front-service.swiper-slide").each(function(){e++,$(this).find(".front-service__now").text(String(e).padStart(2,"0"))}),$(".front-service__count").text(String(e).padStart(2,"0"));const o=new Swiper(".front-services-slider-content",{speed:400,spaceBetween:500,loop:!0,effect:"fade",fadeEffect:{crossFade:!0}}),s=new Swiper(".front-services-slider-bg",{speed:800,spaceBetween:500,loop:!0});o.on("slideChange",function(e){s.slideTo(e.activeIndex)}),$(".front-service__prev").click(function(){o.slidePrev()}),$(".front-service__next").click(function(){o.slideNext()})}$(".front-environ").length&&($(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top),$(window).on("resize",function(){$(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top)}))}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){$(".text p").each(function(){$(this).attr("data-aos","fade-up")}),AOS.init({})}),$(function(){$(".audio-player").each(function(){$(this).html(`<div class="audio-player__stop"></div><div class="audio-player__play"></div><audio controls><source src="${$(this).data("src")}" type="audio/mpeg"></audio><div class="audio-player__body"> <div class="audio-player__progress"><div class="audio-player__mute"><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5783 11.5L4.83137 11.0688L4.71418 11H4.5783V11.5ZM4.5783 4.5V5H4.71418L4.83137 4.93122L4.5783 4.5ZM10.5421 1H11.0421C11.0421 0.820732 10.9462 0.655183 10.7906 0.566101C10.635 0.47702 10.4437 0.47804 10.2891 0.568776L10.5421 1ZM10.5421 15L10.2891 15.4312C10.4437 15.522 10.635 15.523 10.7906 15.4339C10.9462 15.3448 11.0421 15.1793 11.0421 15H10.5421ZM4.5783 11H2.19277V12H4.5783V11ZM2.19277 11C1.79885 11 1.5 10.692 1.5 10.3333H0.5C0.5 11.2649 1.26748 12 2.19277 12V11ZM1.5 10.3333V5.66657H0.5V10.3333H1.5ZM1.5 5.66657C1.5 5.30797 1.79877 5 2.19277 5V4C1.26756 4 0.5 4.73484 0.5 5.66657H1.5ZM2.19277 5H4.5783V4H2.19277V5ZM4.83137 4.93122L10.7952 1.43122L10.2891 0.568776L4.32523 4.06878L4.83137 4.93122ZM10.0421 1V15H11.0421V1H10.0421ZM10.7952 14.5688L4.83137 11.0688L4.32523 11.9312L10.2891 15.4312L10.7952 14.5688ZM13.2769 6.70777L16.6501 10.0071L17.3493 9.29223L13.9762 5.99288L13.2769 6.70777ZM16.6504 5.99288L13.2772 9.29223L13.9765 10.0071L17.3496 6.70777L16.6504 5.99288Z" fill="#2F2F2F"/></svg></div><div class="audio-player__line"><div class="audio-player__line-progress"></div></div> <div class="audio-player__status">0:00</div></div>`)});let e;$(".audio-player__mute").click(function(){let e=$(this).closest(".audio-player").find("audio")[0];e.muted?(e.muted=!1,$(this).removeClass("_muted")):(e.muted=!0,$(this).addClass("_muted"))}),$(".audio-player__play").click(function(){let i=$(this).closest(".audio-player").find("audio")[0],o=$(this).closest(".audio-player").find(".audio-player__line-progress")[0],a=$(this).closest(".audio-player").find(".audio-player__status");$(this).closest(".audio-player").addClass("_stop"),i.play(),e=setInterval(function(){var e=Math.round(i.currentTime),t=Math.round(i.duration);o.style.width=100*e/t+"%";let n=Math.floor(e)%60;n<=9&&(n="0"+n),a.text(Math.floor(e/60)+":"+n)},10)}),$(".audio-player__stop").click(function(){$(this).closest(".audio-player").removeClass("_stop");let e=$(this).closest(".audio-player").find("audio")[0];e.pause()});$(".audio-player").length&&$(window).scroll(function(){$(".audio-player").each(function(){var e,t,n,i,o,a,s,r;e=this,t=window.pageYOffset+e.getBoundingClientRect().top,n=window.pageXOffset+e.getBoundingClientRect().left,i=window.pageXOffset+e.getBoundingClientRect().right,o=window.pageYOffset+e.getBoundingClientRect().bottom,a=window.pageYOffset,s=window.pageXOffset,r=window.pageXOffset+document.documentElement.clientWidth,e=window.pageYOffset+document.documentElement.clientHeight,(a<o&&t<e&&s<i&&n<r?$(this).find(".audio-player__play"):$(this).find(".audio-player__stop")).trigger("click")})})}),$(function(){$(".btn").each(function(){$(this).html(`<span class="btn__bg"></span><span>${$(this).text()}</span>`)}),$(".link-arrow").each(function(){$(this).html(`${$(this).text()}<svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.21 1.40332H1.40332M12.21 1.40332V12.21M12.21 1.40332L1.40332 12.21" stroke="" stroke-width="2"/></svg>`)})}),$(function(){}),$(function(){$(".gallery-slider ").each(function(){let e=new Swiper(this,{slidesPerView:"auto",slideToClickedSlide:!1,spaceBetween:22,watchSlidesProgress:!0,pagination:{el:$(this).find(".gallery-slider__pagi")[0],type:"custom",renderCustom:function(e,t,n){return`${("0"+(t||0)).slice(-2)} / ${("0"+n).slice(-2)}`}}});e.on("progress",function(t,e){for(let e=0;e<t.slides.length;e++){var n=t.slides[e].progress*(.1*t.width);TweenMax.set(t.slides[e].querySelector(".gallery-it__bg"),{x:n})}})})}),$(function(){$(".front-top").length?($("body").addClass("front-page"),$(window).scrollTop()>=$(".front-top").outerHeight()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),$(window).scroll(function(){$(this).scrollTop()>=$(".front-top").outerHeight()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top")})):(50<=$(window).scrollTop()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),$(window).scroll(function(){50<=$(this).scrollTop()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top")}))}),$(function(){}),$(function(){new Rellax(".parallax",{center:!0});$.fn.plaxmove=function(e){this.defaults={ratioH:.013,ratioV:.013,reversed:!0};var t=$.extend({},this.defaults,e),n=$(this),i=$("html").width()/2-n.width()/2,o=$("html").height()/2-n.height()/2,a=function(e){return(e.pageX-i)*t.ratioH},s=function(e){return(e.pageY-o)*t.ratioV};t.reversed&&(e=a,a=s,s=e),$("html").on("mousemove",function(e){x=a(e),y=s(e),$(n).css("margin-left",y),$(n).css("margin-top",x)})},$(".parallax img").each(function(e,t){$(this).plaxmove({reversed:!0})})}),$(function(){setTimeout(function(){$(".preloader").addClass("_start"),setTimeout(function(){$(".preloader").fadeOut(1e3,function(){$("body").addClass("load")})},2e3)},1e3)}),$(function(){$(".residence-slider").length&&$(".residence-slider").each(function(){let e=0;$(this).find(".swiper-slide").each(function(){e++,$(this).find(".residence-slide__paginator-now").text(String(e).padStart(2,"0"))}),$(".residence-slide__paginator-all").text(String(e).padStart(2,"0"));new Swiper(this,{speed:400,spaceBetween:0,loop:!0,navigation:{nextEl:$(this).find(".residence-slider__nav-next")[0],prevEl:$(this).find(".residence-slider__nav-prev")[0]}})})});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;window.addEventListener("resize",()=>{var e;width!=window.innerWidth&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${e}px`),width=window.innerWidth)});