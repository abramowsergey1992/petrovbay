$(function(){$("#contact-form").length&&$("#contact-form").validate({errorPlacement:function(t,e){},submitHandler:function(t){$(".contact-form__btn").attr("disabled","disabled"),$.ajax({url:$(t).attr("action"),data:$(t).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){alert("Форма отправленна успешно"),$(".contact-form__btn").removeAttr("disabled")},error:function(){alert("Ошибка"),$(".contact-form__btn").removeAttr("disabled")}})}})}),$(function(){}),$(function(){if(l=window.innerHeight,$(".front-top").length){if($(".traveline__date").click(function(){$(".traveline__date-wrap").removeClass("_open"),$(this).closest(".traveline__date-wrap").addClass("_open")}),$(".traveline").length){var e=new Date,n=new Date;n.setDate(n.getDate()+1),e.setDate(e.getDate()+7),$(".traveline__date.from").val(`${n.getDate()}.${n.getMonth()+1}.${n.getFullYear()}`),setTimeout(function(){$(".traveline__date.to").val(`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`)},300),new AirDatepicker("#traveline__date-from",{minDate:new Date,autoClose:!0,inline:!0,onSelect:function(t,e,n){var i=new Date(e);i.setDate(i.getDate()+1),o.update("minDate",i);e=o.date;console.log(i.getTime(),o.date.getTime(),i.getTime()>o.date.getTime()),i.getTime()>o.date.getTime()?o.selectDate(i):o.selectDate(e)}});let o="";o=new AirDatepicker("#traveline__date-to",{minDate:n,startDate:e,inline:!0,autoClose:!0}),console.log("sx"),console.log("zzzz");var a,i=$(".traveline__popup");$(".traveline__go").click(function(){var t=new URL($(this).data("link")),e=$(".traveline__date.from").val().split("."),n=$(".traveline__date.to").val().split(".");let i=new Date(e[2],e[1],e[0]),o=new Date(n[2],n[1],n[0]);t.searchParams.append("date",`${e[2]}-${e[1]}-${e[0]}`),t.searchParams.append("nights",Math.ceil(Math.abs(o.getTime()-i.getTime())/864e5)),t.searchParams.append("adults",Number.parseInt($(".traveline__counter-inpt.adults").val()));var a="";$(".traveline__children._open").each(function(){a+=$(this).find("select").val()+";"}),t.searchParams.append("children-age",a),document.location.href=t.href}),$(".traveline__count").click(function(){i.addClass("_show")}),$(".traveline__child-finish").click(function(t){i.removeClass("_show")}),$(document).click(function(t){0===$(".traveline__block._counter").has(t.target).length&&i.removeClass("_show"),$(t.target).hasClass(".traveline__date-wrap")&&$(t.target).closest(".traveline__date-wrap")&&$(".traveline__date-wrap").removeClass("_open")}),$(".traveline__minus").click(function(){var t=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(t.val().replace(/\D+/g,"")),0<=--a&&(a<=9?t.val(`0${a}`):t.val(`${a}`));var e,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),t.hasClass("children")&&(e=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){e<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),e++}))}),$(".traveline__plus").click(function(){var t=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(t.val().replace(/\D+/g,"")),++a<=9?t.val(`0${a}`):t.val(`${a}`);var e,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),t.hasClass("children")&&(e=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){console.log("adas"),e<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),e++}))})}class t{constructor(){this.circle=Object,this.line=Object,this.circleRect=Object,this.centerPosition={x:0,y:0},this.angels={actual:0,target:0},this.init()}init(){this.circle=document.querySelector(".front-top__bg-blur"),this.line=document.querySelector(".front-top__bg-blur-point"),this.onResize(),window.onresize=t=>this.onResize(t),window.onmousemove=t=>this.onMouseMove(t),requestAnimationFrame(()=>this.loop())}onResize(){this.circleRect=this.circle.getBoundingClientRect(),this.centerPosition={x:this.circleRect.x+this.circleRect.width/2,y:this.circleRect.y+this.circleRect.height/2}}onMouseMove(t){t=Math.atan2(t.pageY-this.centerPosition.y,t.pageX-this.centerPosition.x);this.angels.target=t}loop(){this.angels.actual=this.angleLerp(this.angels.actual,this.angels.target,.1),this.line.style.transform=`rotate(${this.angels.actual}rad)`,requestAnimationFrame(()=>this.loop())}angleLerp(t,e,n){var i=2*Math.PI,e=(e-t)%i;return t+(2*e%i-e)*n}}let s=!1;new t,$("body").addClass("_no-scroll"),setTimeout(function(){$("html, body").scrollTop(0),console.log("sadasd")},1e3),$("html, body").scrollTop(0),$(".front-top").attr("state","top"),$(".front-top__down").click(function(){0==s&&(s=!0,$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))}),$("#front-top").swipe({swipe:function(t,e,n,i,o,a){console.log("You swiped "+e),"up"==e?0==s&&(s=!0,"static"==state&&$("#front-top").attr("state","top"),"end"==state&&($("html, body").animate({scrollTop:0}),$("body").addClass("_no-scroll"),$("#front-top").attr("state","static")),setTimeout(function(){s=!1},3e3)):"down"==e&&0==s&&(s=!0,"end"==state&&$("body").removeClass("_no-scroll"),"static"==state&&$("#front-top").attr("state","end"),"top"==state&&$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))}}),$("#front-top").bind("mousewheel",function(t){var e=$("#front-top").attr("state");0<t.originalEvent.wheelDelta/120?0==s&&(s=!0,"static"==e&&$("#front-top").attr("state","top"),"end"==e&&($("html, body").animate({scrollTop:0}),$("body").addClass("_no-scroll"),$("#front-top").attr("state","static")),setTimeout(function(){s=!1},3e3)):0==s&&(s=!0,"end"==e&&$("body").removeClass("_no-scroll"),"static"==e&&$("#front-top").attr("state","end"),"top"==e&&$("#front-top").attr("state","static"),setTimeout(function(){s=!1},3e3))})}if($(".front-services-slider-content").length){let t=0;$(".front-service.swiper-slide").each(function(){t++,$(this).find(".front-service__now").text(String(t).padStart(2,"0"))}),$(".front-service__count").text(String(t).padStart(2,"0"));const o=new Swiper(".front-services-slider-content",{speed:400,spaceBetween:500,loop:!0,effect:"fade",fadeEffect:{crossFade:!0}}),s=new Swiper(".front-services-slider-bg",{speed:800,spaceBetween:500,loop:!0});o.on("slideChange",function(t){s.slideTo(t.activeIndex)}),$(".front-service__prev").click(function(){o.slidePrev()}),$(".front-service__next").click(function(){o.slideNext()})}$(".front-environ").length&&($(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top),$(window).on("resize",function(){$(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top)}))}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){$(".text p,.text ul").each(function(){$(this).attr("data-aos","fade-up")}),AOS.init({})}),$(function(){$(".audio-player").each(function(){$(this).html(`<div class="audio-player__stop"></div><div class="audio-player__play"></div><audio controls><source src="${$(this).data("src")}" type="audio/mpeg"></audio><div class="audio-player__body"> <div class="audio-player__progress"><div class="audio-player__mute"><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5783 11.5L4.83137 11.0688L4.71418 11H4.5783V11.5ZM4.5783 4.5V5H4.71418L4.83137 4.93122L4.5783 4.5ZM10.5421 1H11.0421C11.0421 0.820732 10.9462 0.655183 10.7906 0.566101C10.635 0.47702 10.4437 0.47804 10.2891 0.568776L10.5421 1ZM10.5421 15L10.2891 15.4312C10.4437 15.522 10.635 15.523 10.7906 15.4339C10.9462 15.3448 11.0421 15.1793 11.0421 15H10.5421ZM4.5783 11H2.19277V12H4.5783V11ZM2.19277 11C1.79885 11 1.5 10.692 1.5 10.3333H0.5C0.5 11.2649 1.26748 12 2.19277 12V11ZM1.5 10.3333V5.66657H0.5V10.3333H1.5ZM1.5 5.66657C1.5 5.30797 1.79877 5 2.19277 5V4C1.26756 4 0.5 4.73484 0.5 5.66657H1.5ZM2.19277 5H4.5783V4H2.19277V5ZM4.83137 4.93122L10.7952 1.43122L10.2891 0.568776L4.32523 4.06878L4.83137 4.93122ZM10.0421 1V15H11.0421V1H10.0421ZM10.7952 14.5688L4.83137 11.0688L4.32523 11.9312L10.2891 15.4312L10.7952 14.5688ZM13.2769 6.70777L16.6501 10.0071L17.3493 9.29223L13.9762 5.99288L13.2769 6.70777ZM16.6504 5.99288L13.2772 9.29223L13.9765 10.0071L17.3496 6.70777L16.6504 5.99288Z" fill="#2F2F2F"/></svg></div><div class="audio-player__line"><div class="audio-player__line-progress"></div></div> <div class="audio-player__status">0:00</div></div>`)});let t;$(".audio-player__mute").click(function(){let t=$(this).closest(".audio-player").find("audio")[0];t.muted?(t.muted=!1,$(this).removeClass("_muted")):(t.muted=!0,$(this).addClass("_muted"))}),$(".audio-player__play").click(function(){let i=$(this).closest(".audio-player").find("audio")[0],o=$(this).closest(".audio-player").find(".audio-player__line-progress")[0],a=$(this).closest(".audio-player").find(".audio-player__status");$(this).closest(".audio-player").addClass("_stop"),i.play(),t=setInterval(function(){var t=Math.round(i.currentTime),e=Math.round(i.duration);o.style.width=100*t/e+"%";let n=Math.floor(t)%60;n<=9&&(n="0"+n),a.text(Math.floor(t/60)+":"+n)},10)}),$(".audio-player__stop").click(function(){$(this).closest(".audio-player").removeClass("_stop");let t=$(this).closest(".audio-player").find("audio")[0];t.pause()});$(".audio-player").length&&$(window).scroll(function(){$(".audio-player").each(function(){var t,e,n,i,o,a,s,r;t=this,e=window.pageYOffset+t.getBoundingClientRect().top,n=window.pageXOffset+t.getBoundingClientRect().left,i=window.pageXOffset+t.getBoundingClientRect().right,o=window.pageYOffset+t.getBoundingClientRect().bottom,a=window.pageYOffset,s=window.pageXOffset,r=window.pageXOffset+document.documentElement.clientWidth,t=window.pageYOffset+document.documentElement.clientHeight,(a<o&&e<t&&s<i&&n<r?$(this).find(".audio-player__play"):$(this).find(".audio-player__stop")).trigger("click")})})}),$(function(){$(".btn").each(function(){$(this).html(`<span class="btn__bg"></span><span>${$(this).text()}</span>`)}),$(".link-arrow").each(function(){$(this).html(`${$(this).text()}<svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.21 1.40332H1.40332M12.21 1.40332V12.21M12.21 1.40332L1.40332 12.21" stroke="" stroke-width="2"/></svg>`)})}),$(function(){}),$(function(){$(".gallery-slider ").each(function(){let t=new Swiper(this,{slidesPerView:"auto",slideToClickedSlide:!1,spaceBetween:22,watchSlidesProgress:!0,pagination:{el:$(this).find(".gallery-slider__pagi")[0],type:"custom",renderCustom:function(t,e,n){return`${("0"+(e||0)).slice(-2)} / ${("0"+n).slice(-2)}`}}});t.on("progress",function(e,t){for(let t=0;t<e.slides.length;t++){var n=e.slides[t].progress*(.1*e.width);TweenMax.set(e.slides[t].querySelector(".gallery-it__bg"),{x:n})}})})}),$(function(){$(".front-top").length?($("body").addClass("front-page"),$(window).scrollTop()>=$(".front-top").outerHeight()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),$(window).scroll(function(){$(this).scrollTop()>=$(".front-top").outerHeight()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top")})):(50<=$(window).scrollTop()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),$(window).scroll(function(){50<=$(this).scrollTop()?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top")}))}),$(function(){}),$(function(){$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-date").each(function(){Inputmask("99.99.9999").mask(this)})}),$(function(){}),$(function(){new Rellax(".parallax",{center:!0});$.fn.plaxmove=function(t){this.defaults={ratioH:.013,ratioV:.013,reversed:!0};var e=$.extend({},this.defaults,t),n=$(this),i=$("html").width()/2-n.width()/2,o=$("html").height()/2-n.height()/2,a=function(t){return(t.pageX-i)*e.ratioH},s=function(t){return(t.pageY-o)*e.ratioV};e.reversed&&(t=a,a=s,s=t),$("html").on("mousemove",function(t){x=a(t),y=s(t),$(n).css("margin-left",y),$(n).css("margin-top",x)})},$(".parallax img").each(function(t,e){$(this).plaxmove({reversed:!0})})}),$(function(){$("[data-popup]").click(function(){let t=$($(this).data("popup"));t.addClass("_display"),setTimeout(function(){t.addClass("_animate")},100)}),$(".popup__close,.popup__overlay").click(function(){let t=$(this).closest(".popup");t.removeClass("_animate"),setTimeout(function(){t.removeClass("_display")},1e3)})}),$(function(){setTimeout(function(){$(".preloader").addClass("_start"),setTimeout(function(){$(".preloader").fadeOut(1e3,function(){$("body").addClass("load")})},2e3)},1e3)}),$(function(){$(".residence-slider").length&&$(".residence-slider").each(function(){let t=0;$(this).find(".swiper-slide").each(function(){t++,$(this).find(".residence-slide__paginator-now").text(String(t).padStart(2,"0"))}),$(".residence-slide__paginator-all").text(String(t).padStart(2,"0"));new Swiper(this,{speed:400,spaceBetween:0,loop:!0,navigation:{nextEl:$(this).find(".residence-slider__nav-next")[0],prevEl:$(this).find(".residence-slider__nav-prev")[0]}})})});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;window.addEventListener("resize",()=>{var t;width!=window.innerWidth&&(t=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${t}px`),width=window.innerWidth)}),$(function(){});