$(function(){}),$(function(){$("#contact-form").length&&$("#contact-form").validate({errorPlacement:function(e,t){},submitHandler:function(e){$(".contact-form__btn").attr("disabled","disabled"),$.ajax({url:$(e).attr("action"),data:$(e).serialize(),method:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},context:document.body,success:function(){alert("Форма отправленна успешно"),$(".contact-form__btn").removeAttr("disabled")},error:function(){alert("Ошибка"),$(".contact-form__btn").removeAttr("disabled")}})}})}),$(function(){}),$(function(){if(l=window.innerHeight,$(".front-top").length&&($(".traveline__date").click(function(){$(".traveline__date-wrap").removeClass("_open"),$(".traveline__popup").removeClass("_show"),$(this).closest(".traveline__date-wrap").addClass("_open")}),$(".traveline").length)){var e=new Date,t=new Date;t.setDate(t.getDate()+1),e.setDate(e.getDate()+7),$(".traveline__date.from").val(`${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`),setTimeout(function(){$(".traveline__date.to").val(`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`)},300),new AirDatepicker("#traveline__date-from",{minDate:new Date,autoClose:!0,inline:!0,onSelect:function(e,t,n){var i=new Date(t);i.setDate(i.getDate()+1),o.update("minDate",i);t=o.date;console.log(i.getTime(),o.date.getTime(),i.getTime()>o.date.getTime()),i.getTime()>o.date.getTime()?o.selectDate(i):o.selectDate(t)}});let o="";o=new AirDatepicker("#traveline__date-to",{minDate:t,startDate:e,inline:!0,autoClose:!0}),console.log("sx"),console.log("zzzz");var a,n=$(".traveline__popup");$(".traveline__go").click(function(){var e=new URL($(this).data("link")),t=$(".traveline__date.from").val().split("."),n=$(".traveline__date.to").val().split(".");let i=new Date(t[2],t[1],t[0]),o=new Date(n[2],n[1],n[0]);e.searchParams.append("date",`${t[2]}-${t[1]}-${t[0]}`),e.searchParams.append("nights",Math.ceil(Math.abs(o.getTime()-i.getTime())/864e5)),e.searchParams.append("adults",Number.parseInt($(".traveline__counter-inpt.adults").val()));var a="";$(".traveline__children._open").each(function(){a+=$(this).find("select").val()+";"}),e.searchParams.append("children-age",a),document.location.href=e.href}),$(".traveline__count").click(function(){n.addClass("_show"),$(".traveline__date-wrap").removeClass("_open")}),$(".traveline__child-finish").click(function(e){n.removeClass("_show")}),$(document).click(function(e){0===$(".traveline__block._counter").has(e.target).length&&n.removeClass("_show"),$(e.target).hasClass(".traveline__date-wrap")&&$(e.target).closest(".traveline__date-wrap")&&$(".traveline__date-wrap").removeClass("_open")}),$(".traveline__minus").click(function(){var e=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(e.val().replace(/\D+/g,"")),0<=--a&&(a<=9?e.val(`0${a}`):e.val(`${a}`));var t,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),e.hasClass("children")&&(t=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){t<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),t++}))}),$(".traveline__plus").click(function(){var e=$(this).closest(".traveline__counter").find(".traveline__counter-inpt");a=Number.parseInt(e.val().replace(/\D+/g,"")),++a<=9?e.val(`0${a}`):e.val(`${a}`);var t,n,i=Number.parseInt($(".traveline__counter-inpt.adults").val())+Number.parseInt($(".traveline__counter-inpt.children").val());i<10?$(".traveline__count").val("0"+i):$(".traveline__count").val(i),e.hasClass("children")&&(t=1,n=Number.parseInt($(".traveline__counter-inpt.children").val()),$(".traveline__children").each(function(){console.log("adas"),t<=n?$(this).addClass("_open").stop().slideDown():$(this).removeClass("_open").stop().slideUp(),t++}))})}if($(".front-services-slider-content").length){let e=0;$(".front-service.swiper-slide").each(function(){e++,$(this).find(".front-service__now").text(String(e).padStart(2,"0"))}),$(".front-service__count").text(String(e).padStart(2,"0"));const i=new Swiper(".front-services-slider-content",{speed:400,spaceBetween:500,loop:!0,effect:"fade",fadeEffect:{crossFade:!0}}),o=new Swiper(".front-services-slider-bg",{speed:800,spaceBetween:500,loop:!0});i.on("slideChange",function(e){o.slideTo(e.activeIndex)}),$(".front-service__prev").click(function(){i.slidePrev()}),$(".front-service__next").click(function(){i.slideNext()})}if($(".front-environ").length){const r=window.matchMedia("(max-width: 992px)");r.matches?$(".front-environ__white-block").css("height",$(".front-environ__row-2 .front-environ__left").height()+300):$(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top),$(window).on("resize",function(){r.matches||$(".front-environ__white-block").css("height",$(".front-environ__divider").offset().top-50-$(".front-environ__content ").offset().top)})}}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){$(".gallery-slider__wrapper").length&&$(".gallery-slider__wrapper").each(function(){element=this,element.addEventListener("wheel",e=>{e.preventDefault(),element.scrollBy({left:e.deltaY<0?-30:30})});var e=new ScrollMagic.Controller({container:element,vertical:!1});let t=[];$(element).find(".gallery-it ").each(function(){t.push(new ScrollMagic.Scene({triggerElement:this,duration:$(window).width()}).triggerHook(1).setTween($(this).find(".gallery-it__bg"),{x:-500}).addTo(e))})});let t=new ScrollMagic.Controller({refreshInterval:0}),n=[];$(".anim-block").each(function(){n.push(new ScrollMagic.Scene({triggerElement:this,duration:500}).triggerHook(1).setTween($(this).find(".block"),{top:0}).addTo(t))}),$(".parallax").each(function(){console.log("parallax",$(this).data("parallax")),n.push(new ScrollMagic.Scene({triggerElement:this,duration:window.innerHeight}).triggerHook(1).setTween($(this).find("picture"),{y:$(this).data("parallax")}).addTo(t))}),$(".bg-scale,.full-img ").each(function(){n.push(new ScrollMagic.Scene({triggerElement:this,duration:window.innerHeight}).triggerHook(1).setTween($(this).find("img,video"),{scale:1}).addTo(t))}),$(".audio-player").each(function(){let e=$(this);n.push(new ScrollMagic.Scene({triggerElement:this,duration:300}).triggerHook(.7).on("enter",function(){console.log("enter",e),e.find(".audio-player__play").trigger("click")}).on("leave",function(){console.log("leave",e),e.find(".audio-player__stop").trigger("click")}).addTo(t))});let i=0,o=document.querySelector("#pagescroll"),a=Scrollbar.init(o),r=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);console.log("is Chrome ? ",r),r&&t.scrollPos(function(){return i});let l=50;if($(".front-top").length&&(l=$(".front-top").outerHeight()),o.setAttribute("scroll",i),i>=l?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),a.addListener(function(e){i=e.offset.y,o.setAttribute("scroll",i),i>=l?$(".header").addClass("_not-top"):$(".header").removeClass("_not-top"),r?t.update(!0):n.forEach(function(e){e.refresh()}),i+window.innerHeight>=$(".page").innerHeight()-300?$(".page").addClass("_page-end "):$(".page").removeClass("_page-end ")}),$(".page-up").click(function(){a.scrollTo(0,0,1e3,{callback:()=>console.log("done!")})}),$(".front-top").length){document.addEventListener("mousemove",function(e){var t=window.innerWidth/2,n=window.innerHeight/2,i=e.clientX,e=e.clientY,t=`${.005*(i-t)}%`,e=`${.005*(e-n)}%`,n=`translateX(${t}) translateY(${e})`;console.log(n),d.style.marginLeft=t,d.style.marginTop=e,u.style.marginLeft=t,u.style.marginTop=e});const d=document.querySelector(".front-top__bg-blur._top"),u=document.querySelector(".front-top__bg-blur._down");let t=!1;function s(){var e;0==t&&(e=$("#front-top").attr("state"),t=!0,"static"==e&&$("#front-top").attr("state","top"),"end"==e&&(a.scrollTo(0,0,0,{callback:()=>console.log("done!")}),$("body").addClass("_no-scroll"),$("#front-top").attr("state","static")),setTimeout(function(){t=!1},1e3))}function c(){var e;0==t&&(t=!0,"end"==(e=$("#front-top").attr("state"))&&$("body").removeClass("_no-scroll"),"static"==e&&$("#front-top").attr("state","end"),"top"==e&&$("#front-top").attr("state","static"),setTimeout(function(){t=!1},1e3))}$("body").addClass("_no-scroll"),$("body").addClass("front-page"),setTimeout(function(){$("html, body").scrollTop(0)},1e3),$("html, body").scrollTop(0),$(".front-top").attr("state","top"),$(".front-top__down").click(function(){c()}),$("#front-top").swipe({preventDefaultEvents:!1,swipe:function(e,t,n,i,o,a){console.log("You swiped "+t),"up"==t?c():"down"==t&&s()}}),$("#front-top").on("mousewheel",function(e){$("#front-top").attr("state");(0<e.originalEvent.wheelDelta/120?s:c)()}),$("#front-top").on("DOMMouseScroll",function(e){$("#front-top").attr("state");console.log(e.originalEvent.wheelDelta),(0<e.originalEvent.wheelDelta/120?s:c)()})}}),$(function(){$(".audio-player").each(function(){$(this).html(`<div class="audio-player__stop"></div><div class="audio-player__play"></div><audio controls><source src="${$(this).data("src")}" type="audio/mpeg"></audio><div class="audio-player__body"> <div class="audio-player__progress"><div class="audio-player__mute"><svg class="audio-player__mute-on" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.5783 11.5L4.83137 11.0688L4.71418 11H4.5783V11.5ZM4.5783 4.5V5H4.71418L4.83137 4.93122L4.5783 4.5ZM10.5421 1H11.0421C11.0421 0.820732 10.9462 0.655183 10.7906 0.566101C10.635 0.47702 10.4437 0.47804 10.2891 0.568776L10.5421 1ZM10.5421 15L10.2891 15.4312C10.4437 15.522 10.635 15.523 10.7906 15.4339C10.9462 15.3448 11.0421 15.1793 11.0421 15H10.5421ZM4.5783 11H2.19277V12H4.5783V11ZM2.19277 11C1.79885 11 1.5 10.692 1.5 10.3333H0.5C0.5 11.2649 1.26748 12 2.19277 12V11ZM1.5 10.3333V5.66657H0.5V10.3333H1.5ZM1.5 5.66657C1.5 5.30797 1.79877 5 2.19277 5V4C1.26756 4 0.5 4.73484 0.5 5.66657H1.5ZM2.19277 5H4.5783V4H2.19277V5ZM4.83137 4.93122L10.7952 1.43122L10.2891 0.568776L4.32523 4.06878L4.83137 4.93122ZM10.0421 1V15H11.0421V1H10.0421ZM10.7952 14.5688L4.83137 11.0688L4.32523 11.9312L10.2891 15.4312L10.7952 14.5688ZM13.2769 6.70777L16.6501 10.0071L17.3493 9.29223L13.9762 5.99288L13.2769 6.70777ZM16.6504 5.99288L13.2772 9.29223L13.9765 10.0071L17.3496 6.70777L16.6504 5.99288Z" fill="#2F2F2F"/></svg><svg  class="audio-player__mute-off" width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.6667 7.25343V10.7557M15 4.91857V13.0906M4.5 12.5H2.16667C1.52267 12.5 1 11.9785 1 11.3333V6.66667C1 6.0215 1.52267 5.5 2.16667 5.5H4.5L10.3333 2V16L4.5 12.5Z" stroke="#2F2F2F" /></svg></div><div class="audio-player__line"><div class="audio-player__line-progress"></div></div> <div class="audio-player__status">0:00</div></div>`)});let e;$(".audio-player__mute").click(function(){let e=$(this).closest(".audio-player").find("audio")[0];e.muted?(e.muted=!1,$(this).removeClass("_muted")):(e.muted=!0,$(this).addClass("_muted"))}),$(".audio-player__play").click(function(){let i=$(this).closest(".audio-player").find("audio")[0],o=$(this).closest(".audio-player").find(".audio-player__line-progress")[0],a=$(this).closest(".audio-player").find(".audio-player__status");$(this).closest(".audio-player").addClass("_stop"),i.play(),e=setInterval(function(){var e=Math.round(i.currentTime),t=Math.round(i.duration);o.style.width=100*e/t+"%";let n=Math.floor(e)%60;n<=9&&(n="0"+n),a.text(Math.floor(e/60)+":"+n)},10)}),$(".audio-player__stop").click(function(){$(this).closest(".audio-player").removeClass("_stop");let e=$(this).closest(".audio-player").find("audio")[0];e.pause()})}),$(function(){}),$(function(){$(".btn").each(function(){$(this).html(`<span class="btn__bg"></span><span class="btn__text">${$(this).text()}</span>`)}),$(".link-arrow").each(function(){$(this).html(`${$(this).text()}<svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.21 1.40332H1.40332M12.21 1.40332V12.21M12.21 1.40332L1.40332 12.21" stroke="" stroke-width="2"/></svg>`)})}),$(function(){}),$(function(){Fancybox.defaults.backFocus=!1,$(" .gallery-slider__padding ").css("min-width",($(" .page ").innerWidth()-$(" .gallery-slider ").innerWidth())/2),window.onresize=function(e){$(" .gallery-slider__padding ").css("min-width",($(" .page ").innerWidth()-$(" .gallery-slider ").innerWidth())/2)},$(".gallery-swiper ").each(function(){let e=new Swiper(this,{slidesPerView:4,freeMode:{enabled:!0,momentumBounce:!1},allowTouchMove:!1,preventClicks:!1,preventClicksPropagation:!1,slideToClickedSlide:!1,spaceBetween:22,watchSlidesProgress:!0,mousewheel:{sensitivity:.3},breakpoints:{320:{slidesPerView:1.3},480:{slidesPerView:1.6},640:{slidesPerView:2},992:{slidesPerView:3}},pagination:{el:$(this).find(".gallery-swiper__pagi")[0],type:"custom",renderCustom:function(e,t,n){return`${("0"+(t||0)).slice(-2)} <span class="_divider"></span> ${("0"+n).slice(-2)}`}}});e.on("progress",function(t,e){console.log("progress");for(let e=0;e<t.slides.length;e++){var n=t.slides[e].progress;console.log(t.slides[e].progress);n=n*(.1*t.width);TweenMax.set(t.slides[e].querySelector(".gallery-it__bg"),{x:n})}})})}),$(function(){$("._mask-phone").each(function(){Inputmask("+7 (999) 999-99-99").mask(this)}),$("._mask-date").each(function(){Inputmask("99.99.9999").mask(this)})}),$(function(){new Swiper(".mobmenu__gallery",{speed:9e3,loop:!0,loopAdditionalSlides:5,allowTouchMove:!1,observer:!0,observeParents:!0,direction:"vertical",slidesPerView:2,autoplay:{delay:1},breakpoints:{991:{spaceBetween:45}}});$(".header__burger").click(function(){$(".mobmenu").fadeIn();new Swiper(".mobmenu__gallery",{speed:9e3,loop:!0,loopAdditionalSlides:5,allowTouchMove:!1,observer:!0,observeParents:!0,direction:"vertical",slidesPerView:2,autoplay:{delay:1},breakpoints:{991:{spaceBetween:45}}})}),$(".header__burger-close").click(function(){$(".mobmenu").fadeOut()})}),$(function(){$("[data-popup]").click(function(){let e=$($(this).data("popup"));e.addClass("_display"),setTimeout(function(){e.addClass("_animate")},100)}),$(".popup__close,.popup__overlay").click(function(){let e=$(this).closest(".popup");e.removeClass("_animate"),setTimeout(function(){e.removeClass("_display")},1e3)})}),$(function(){$.fn.plaxmove=function(e){this.defaults={ratioH:.013,ratioV:.013,reversed:!0};var t=$.extend({},this.defaults,e),n=$(this),i=$("html").width()/2-n.width()/2,o=$("html").height()/2-n.height()/2,a=function(e){return(e.pageX-i)*t.ratioH},r=function(e){return(e.pageY-o)*t.ratioV};t.reversed&&(e=a,a=r,r=e),$("html").on("mousemove",function(e){x=a(e),y=r(e),$(n).css("transform",`translateY(${y}px) translateX(${x}px)`)})},$(".parallax img, .mouseparallax img").each(function(e,t){$(this).plaxmove({reversed:!0})})}),$(function(){$(".residence-slider").length&&$(".residence-slider").each(function(){let e=0;$(this).find(".swiper-slide").each(function(){e++,$(this).find(".residence-slide__paginator-now").text(String(e).padStart(2,"0"))}),$(".residence-slide__paginator-all").text(String(e).padStart(2,"0"));new Swiper(this,{speed:400,spaceBetween:0,loop:!0,navigation:{nextEl:$(this).find(".residence-slider__nav-next")[0],prevEl:$(this).find(".residence-slider__nav-prev")[0]}})})}),$(function(){}),$(function(){});var vh=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${vh}px`);var width=window.innerWidth;window.addEventListener("resize",()=>{var e;width!=window.innerWidth&&(e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh",`${e}px`),width=window.innerWidth)});let step=50,timeM=0,timeMinutMax=1e3,timeH=0,timeHoursMax=12*timeMinutMax,delta=1,start=!1,hours=document.querySelector(".preloader__arrow-hours"),minuts=document.querySelector(".preloader__arrow-minuts"),preloader=setInterval(function(){minuts.style.transform=`rotate(${100/(timeMinutMax/timeM)*3.6}deg)`,hours.style.transform=`rotate(${100/(timeHoursMax/timeH)*3.6}deg)`,start&&(0<delta?delta-=step/1e3/2:delta=0),timeM<timeMinutMax?timeM+=step*delta:timeM=0,timeH<timeHoursMax?timeH+=step*delta:timeH=0},step);$(function(){setTimeout(function(){start=!0,$(".preloader").addClass("_start"),setTimeout(function(){$(".preloader").fadeOut(1e3,function(){$("body").addClass("load"),clearInterval(preloader)})},2e3)},2e3)});